<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>不能连外网的机器怎么搭环境？ - 鸽园</title><meta name="description" content="Motivation 有很多服务器是被限制只能在内网访问。不论是 conda, pip, docker 还是 apt, 不能访问公网都是一大难题。 这篇不讲如何直接解决这类问题，我们讲讲怎样快速建立一条反代通道。 唯一的要求是，本机需要有正在运行的代理。 这里这个“代理”用的是计算机网络中的基本含义，并没有其他乱七八糟的功能（ 以下应该把&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://zzsblog.top/ssh-reverse-proxy.html"><link rel="amphtml" href="https://zzsblog.top/amp/ssh-reverse-proxy.html"><link rel="alternate" type="application/atom+xml" href="https://zzsblog.top/feed.xml"><link rel="alternate" type="application/json" href="https://zzsblog.top/feed.json"><meta property="og:title" content="不能连外网的机器怎么搭环境？"><meta property="og:image" content="https://zzsblog.top/media/posts/7/download1"><meta property="og:site_name" content="鸽园"><meta property="og:description" content="Motivation 有很多服务器是被限制只能在内网访问。不论是 conda, pip, docker 还是 apt, 不能访问公网都是一大难题。 这篇不讲如何直接解决这类问题，我们讲讲怎样快速建立一条反代通道。 唯一的要求是，本机需要有正在运行的代理。 这里这个“代理”用的是计算机网络中的基本含义，并没有其他乱七八糟的功能（ 以下应该把&hellip;"><meta property="og:url" content="https://zzsblog.top/ssh-reverse-proxy.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://zzsblog.top/media/website/favicon.png" type="image/png"><link rel="stylesheet" href="https://zzsblog.top/assets/css/style.css?v=ebde456a0982dc3b4cf9161f1fc0c160"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://zzsblog.top/ssh-reverse-proxy.html"},"headline":"不能连外网的机器怎么搭环境？","datePublished":"2022-04-12T20:41","dateModified":"2022-07-31T20:49","image":{"@type":"ImageObject","url":"https://zzsblog.top/media/posts/7/download1","height":false,"width":false},"description":"Motivation 有很多服务器是被限制只能在内网访问。不论是 conda, pip, docker 还是 apt, 不能访问公网都是一大难题。 这篇不讲如何直接解决这类问题，我们讲讲怎样快速建立一条反代通道。 唯一的要求是，本机需要有正在运行的代理。 这里这个“代理”用的是计算机网络中的基本含义，并没有其他乱七八糟的功能（ 以下应该把&hellip;","author":{"@type":"Person","name":"JamzumSum","url":"https://zzsblog.top/author/jamzumsum/"},"publisher":{"@type":"Organization","name":"JamzumSum","logo":{"@type":"ImageObject","url":"https://zzsblog.top/media/website/favicon-2.png","height":480,"width":480}}}</script><script>window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      processEscapes: true,
    }
  }</script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><link href="https://cdn.jsdelivr.net/npm/prismjs@v1.x/themes/prism.css" rel="stylesheet"></head><body><script src="https://cdn.jsdelivr.net/npm/prismjs@v1.x/components/prism-core.min.js"></script><script src="https://cdn.jsdelivr.net/npm/prismjs@v1.x/plugins/autoloader/prism-autoloader.min.js"></script><div class="container"><header class="header" id="js-header"><a href="https://zzsblog.top/" class="logo"><img src="https://zzsblog.top/media/website/favicon-2.png" alt="鸽园" width="480" height="480"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://zzsblog.top/" title="Goto Homepage" target="_self">Home</a></li><li class="has-submenu"><a href="https://zzsblog.top/tag/" title="Categories" target="_blank" aria-haspopup="true">Categories</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://zzsblog.top/tag/coding/" title="Coding" target="_blank">Coding</a></li><li><a href="https://zzsblog.top/tag/qzone2tg/" title="Collections of Qzone2TG posts" target="_self">Qzone2TG</a></li></ul></li><li><a href="https://zzsblog.top/about.html" title="About me" target="_self">About</a></li><li><span class="is-separator">|</span></li><li><a href="https://github.com/JamzumSum/zzsblog" title="Goto blog repo on GitHub" target="_blank">GitHub</a></li><li><a href="https://zzsblog.top/merger.html" title="Buy me a cup of coffee☕" target="_blank">Donate</a></li></ul></nav></header><main><article class="post wrapper"><header class="hero"><p class="post__meta">Published on <time datetime="2022-04-12T20:41">22/04/12</time></p><h1 class="post__title">不能连外网的机器怎么搭环境？</h1></header><figure class="post__featured-image post__image--wide"><img src="https://zzsblog.top/media/posts/7/download1" loading="eager" height="1280" width="1920" alt="person holding black camera lens"><figcaption>reverse @devintavery</figcaption></figure><div class="post__entry"><h2 id="motivation">Motivation</h2><p>有很多服务器是被限制只能在内网访问。不论是 conda, pip, docker 还是 apt, 不能访问公网都是一大难题。 这篇不讲如何直接解决这类问题，我们讲讲怎样快速建立一条反代通道。</p><h2 id="工具">工具</h2><p>唯一的要求是，本机需要有正在运行的代理。 这里这个“代理”用的是计算机网络中的基本含义，并没有其他乱七八糟的功能（</p><p>以下应该把 <code>&lt;local_port&gt;</code>/<code>&lt;remote_port&gt;</code> 换成实际的端口号，<code>&lt;REMOTE&gt;</code>换成ssh配置名或主机名。</p><ul><li>本地终端：<pre><code class="language-shell">ssh -NR &lt;remote_port&gt;:localhost:&lt;local_port&gt; &lt;REMOTE&gt;
</code></pre></li><li>远程终端：设置代理即可<pre><code class="language-shell">export https_proxy=http://localhost:&lt;remote_port&gt;
</code></pre></li></ul><h2 id="后记">后记</h2><p>conda, curl 这些都支持 <code>https_proxy</code> 的配置。</p></div><footer class="post__footer"><div class="post__footer__col"><ul class="post__tag"><li><a href="https://zzsblog.top/tag/shell/">Shell</a></li></ul><div class="post__share"></div></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://zzsblog.top/parsing-irregular-json.html" class="inverse" rel="prev">Python 如何解析不规则 JSON？</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://zzsblog.top/async-re-sub.html" class="inverse" rel="next">re.sub如何异步替换？</a></h5></div></nav></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer></div><script defer="defer" src="https://zzsblog.top/assets/js/scripts.min.js?v=620157e86bfc246cfef480b1b4aadb48"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.navbar'};</script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>